<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 1: Nan ZHU, Zixuan YU, Yiyu LIU,  Tianyi CHEN, Zeying GONG, Mingze GONG.">
<meta name="dcterms.date" content="2023-11-28">

<title>Finding Emergency Sanitary Pad Stations in City Corners (寻找城市角落的紧急卫生巾站)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="index_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="index_files/libs/quarto-contrib/bookup_fonts_gwf-0.0/fonts-embed.css" rel="stylesheet">


  
    <style>
      .cover {
        background-image: url("assets/woman.jpg");
        min-height: 100vh; /* Ensures the div takes at least the full view height */
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow: hidden; /* Prevents any content from extending beyond this div */
      }
      .frtitle,
      .group-info,
      .frdate {
        margin: 0px;
        padding: 10px;
        text-align: center;
        margin-left: 400px; /* Center align these elements */
        margin-right: 100px; /* Center align these elements */
        font-weight: bold;
        opacity: 0.8;
      }
      .frtitle {
        color: #835454;
        background: #f0c3c3; /* Semi-transparent background for readability */
        font-size: 45px;
        border-radius: 38px;
      }
      .group-info {
        color: #2f2727;
        font-size: 20px;
        border-radius: 18px;
      }
      .frbottom {
        position: absolute; /* Absolute positioning */
        bottom: 0; /* Align to the bottom */
        width: 100%; /* Full width */
        text-align: center;
        background: #edd5d5; /* Semi-transparent white background */
        padding: 8px 0;
        font-size: 13px;
        color: #2f2727;
        opacity: 0.7;
      }
    </style>
  </head>
  <body>
    <div class="cover">
      <!-- Title Section -->
      <div class="frtitle">
        Finding Emergency Sanitary Pad Stations in City Corners
        (寻找城市角落的紧急卫生巾站)
      </div>

      <!-- Group Information -->
      <div class="group-info">
        @Group 1: Nan ZHU, Zixuan YU, Yiyu LIU, Tianyi CHEN, Zeying GONG, Mingze
        GONG
      </div>
      <!-- Bottom Information -->
      <div class="frbottom">INFO5000 Coursework for 2023 Fall Semester</div>
    </div>
  







<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a></li>
  <li><a href="#preliminary-findings" id="toc-preliminary-findings" class="nav-link" data-scroll-target="#preliminary-findings">Preliminary Findings</a></li>
  <li><a href="#purpose-and-vision" id="toc-purpose-and-vision" class="nav-link" data-scroll-target="#purpose-and-vision">Purpose and Vision</a></li>
  <li><a href="#scope-for-this-course" id="toc-scope-for-this-course" class="nav-link" data-scroll-target="#scope-for-this-course">Scope for This Course</a></li>
  <li><a href="#team-contributions" id="toc-team-contributions" class="nav-link" data-scroll-target="#team-contributions">Team Contributions</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a>
  <ul class="collapse">
  <li><a href="#data-collection" id="toc-data-collection" class="nav-link" data-scroll-target="#data-collection">Data Collection</a>
  <ul class="collapse">
  <li><a href="#field-studies" id="toc-field-studies" class="nav-link" data-scroll-target="#field-studies">Field Studies</a></li>
  <li><a href="#weibo-database-analyses" id="toc-weibo-database-analyses" class="nav-link" data-scroll-target="#weibo-database-analyses">Weibo Database Analyses</a></li>
  <li><a href="#surveys" id="toc-surveys" class="nav-link" data-scroll-target="#surveys">Surveys</a></li>
  </ul></li>
  <li><a href="#interactive-visualization-map-design" id="toc-interactive-visualization-map-design" class="nav-link" data-scroll-target="#interactive-visualization-map-design">Interactive Visualization Map Design</a>
  <ul class="collapse">
  <li><a href="#data-transformation" id="toc-data-transformation" class="nav-link" data-scroll-target="#data-transformation">Data Transformation</a></li>
  <li><a href="#interactive-map-and-scatter-plot-creation" id="toc-interactive-map-and-scatter-plot-creation" class="nav-link" data-scroll-target="#interactive-map-and-scatter-plot-creation">Interactive Map and Scatter Plot Creation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#a-glimpse-of-existing-padding-stations" id="toc-a-glimpse-of-existing-padding-stations" class="nav-link" data-scroll-target="#a-glimpse-of-existing-padding-stations">A Glimpse of Existing Padding Stations</a></li>
  <li><a href="#survey-result-interpretation" id="toc-survey-result-interpretation" class="nav-link" data-scroll-target="#survey-result-interpretation">Survey Result Interpretation</a></li>
  <li><a href="#comparative-study---international-perspective" id="toc-comparative-study---international-perspective" class="nav-link" data-scroll-target="#comparative-study---international-perspective">Comparative Study - International Perspective</a></li>
  <li><a href="#free-menstrual-supplies-in-various-countries" id="toc-free-menstrual-supplies-in-various-countries" class="nav-link" data-scroll-target="#free-menstrual-supplies-in-various-countries">Free Menstrual Supplies in Various Countries</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a>
  <ul class="collapse">
  <li><a href="#survey-design" id="toc-survey-design" class="nav-link" data-scroll-target="#survey-design">Survey Design</a></li>
  <li><a href="#vending-machine-iot-system" id="toc-vending-machine-iot-system" class="nav-link" data-scroll-target="#vending-machine-iot-system">Vending Machine IoT System</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#future-work" id="toc-future-work" class="nav-link" data-scroll-target="#future-work">Future Work</a>
  <ul class="collapse">
  <li><a href="#sustainable-vending-machine" id="toc-sustainable-vending-machine" class="nav-link" data-scroll-target="#sustainable-vending-machine">Sustainable Vending Machine</a></li>
  <li><a href="#leveraging-online-suppliers-lowering-costs" id="toc-leveraging-online-suppliers-lowering-costs" class="nav-link" data-scroll-target="#leveraging-online-suppliers-lowering-costs">Leveraging Online Suppliers &amp; Lowering Costs</a></li>
  <li><a href="#sustainable-design-environmental-awareness" id="toc-sustainable-design-environmental-awareness" class="nav-link" data-scroll-target="#sustainable-design-environmental-awareness">Sustainable Design &amp; Environmental Awareness</a></li>
  <li><a href="#health-and-hygiene-education" id="toc-health-and-hygiene-education" class="nav-link" data-scroll-target="#health-and-hygiene-education">Health and Hygiene Education</a></li>
  <li><a href="#managing-conflicts-of-interest" id="toc-managing-conflicts-of-interest" class="nav-link" data-scroll-target="#managing-conflicts-of-interest">Managing Conflicts of Interest</a></li>
  <li><a href="#upholding-university-image" id="toc-upholding-university-image" class="nav-link" data-scroll-target="#upholding-university-image">Upholding University Image</a></li>
  <li><a href="#legislation-recommendations" id="toc-legislation-recommendations" class="nav-link" data-scroll-target="#legislation-recommendations">Legislation Recommendations</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Finding Emergency Sanitary Pad Stations in City Corners (寻找城市角落的紧急卫生巾站)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 1: Nan ZHU, Zixuan YU, Yiyu LIU, <br>Tianyi CHEN, Zeying GONG, Mingze GONG. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 28, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<style>
.level1 {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.page-columns .content {
  margin-left: calc(-45% + 1rem);
  margin-right: 3em;
}

#quarto-content {
  margin-left: calc(20% + 2rem);
}


iframe {
    margin-bottom: -3em;
}

body {
        font-family: 'Times New Roman', Times, serif;
        text-align: justify;
        font-size: 20;
    }
    
    
.figure {
    display: block;
}    


.scrolling-gallery {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
}

.scrolling-gallery img {
    margin-right: 10px;
    vertical-align: middle;
}





</style>
<p>This is the online version of our report for INFO5000 Coursework. This report includes the basic structure and key findings of our study, which are:</p>
<ul>
<li>An interactive plot that identifies locations of emergency stations providing feminine hygiene products in Guangzhou, Shenzhen, Foshan, and Dongguan.</li>
<li>Some survey results and analysis.</li>
</ul>
<p>For more detailed information and in-depth analysis, please refer to our full report <a href="GitHub%20Link">here on GitHub</a>.</p>
<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>This report, crafted as part of the INFO5000 project coursework, delivers a detailed analysis of the accessibility of emergency feminine products in public spaces, centering particularly on sanitary napkin stations. The study acknowledges the critical issue of menstrual poverty and stigma, and is committed to the ongoing mission of ensuring the availability of sanitary products in public places as a continuing effort into the foreseeable future.</p>
<p>The research employs a comprehensive methodology that includes field studies, analysis of the Weibo database, web development, visualizations, and extensive surveys. We have developed an online version of our report, which is available at <a href="https://palaceparis.github.io/INFO5000Coursework/">https://palaceparis.github.io/INFO5000Coursework/</a>. This online version offers interactive functionalities and will be featured in our upcoming video presentation.</p>
<p>These elements are cohesively integrated to provide a multifaceted view of the topic. Findings from the research are presented through an interactive map and scatter plot, offering an intuitive understanding of the data. The analysis not only sheds light on the present availability of sanitary napkin stations in Guangdong but also places it in context with global standards. The study is transparent about the limitations encountered in survey design, ensuring a balanced view of the results.</p>
<p>Conclusively, the report brings together these insights and looks forward to future innovations, including sustainable vending machine designs, cost-effective procurement strategies via online suppliers, and the incorporation of environmental sustainability. This report is positioned as an invaluable resource for stakeholders in the INFO5000 course and beyond, aiming to contribute to the reduction of menstrual poverty and the promotion of gender equity in public health infrastructure.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background">Background</h3>
<p>This project addresses menstrual poverty and stigma in China. Approximately 40 million children in China live in areas of special hardship, with 4 million girls between ages 12 and 16 facing menstrual poverty. A survey by UU Public Welfare shows that about 5% of girls in these areas do not use sanitary napkins, leading to significant health and social issues. According to MeBuEri, 93% of Chinese women suffer from gynecological diseases, 63% due to low-quality sanitary products. Our project seeks to alleviate menstrual poverty in China.</p>
<figure style="text-align: center;" class="figure">
<img src="assets/napkin_brand.png" alt="Chinese women population health condition ratio" title="Chinese women population health condition ratio. Source: MeiBuEr's website." width="40%" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
<figcaption style="margin-top: 10px;" class="figure-caption">
Chinese women population health condition ratio. Source: MeiBuEr’s website.
</figcaption>
</figure>
</section>
<section id="preliminary-findings" class="level3">
<h3 class="anchored" data-anchor-id="preliminary-findings">Preliminary Findings</h3>
<p>Our research highlights challenges in providing sanitary napkins in educational institutions, contrasting the availability of personal electronic charging stations and family planning supplies. A survey at Hong Kong University of Science and Technology (Guangzhou) indicated significant discomfort and stigma around discussing menstruation.</p>
</section>
<section id="purpose-and-vision" class="level3">
<h3 class="anchored" data-anchor-id="purpose-and-vision">Purpose and Vision</h3>
<p>The project’s goal is to normalize the discussion of menstrual health and increase the availability of sanitary napkins in public spaces. We envision a society where providing free period items is recognized as a fundamental human right. The pilot project starts at HKUST Guangzhou, with plans to expand to the Greater Bay Area.</p>
</section>
<section id="scope-for-this-course" class="level3">
<h3 class="anchored" data-anchor-id="scope-for-this-course">Scope for This Course</h3>
<p>The project encompasses building a vending machine prototype, developing an IoT system, creating a data visualization map, and formulating a rating system for emergency feminine product stations. Efforts also include examining eco-friendly vending machine solutions and educational initiatives to address menstrual stigma.</p>
</section>
<section id="team-contributions" class="level3">
<h3 class="anchored" data-anchor-id="team-contributions">Team Contributions</h3>
<table class="table">
<caption>Distribution of Work Among Teams</caption>
<colgroup>
<col style="width: 58%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Team</th>
<th>Contributions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Info Hub (2 people)</td>
<td>Website development, IoT system advising, layout and design, presentation report production.</td>
</tr>
<tr class="even">
<td>SEE Thrust (1 person)</td>
<td>Advising on solar panel usage, availability report drafting.</td>
</tr>
<tr class="odd">
<td>Society Hub (3 people)</td>
<td>Vending machine sponsorship, data collection, website content, survey and policy recommendations drafting.</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="methodology" class="level1">
<h1>Methodology</h1>
<p>Our methodology incorporates key techniques from the DSA Lectures of INFH 5000, focusing on data preparation/collection, exploratory data analysis, interactive plot design, and data visualization.</p>
<section id="data-collection" class="level2">
<h2 class="anchored" data-anchor-id="data-collection">Data Collection</h2>
<p>Data for this study is available <a href="https://hkustgz-my.sharepoint.com/:x:/g/personal/nzhu810_connect_hkust-gz_edu_cn/EefyXBCCXN5Nh31ggxYzMncBJNJ1U4x2EIFxA5FV4S-cVw?e=4%3avTIvdL">here</a>.</p>
<section id="field-studies" class="level3">
<h3 class="anchored" data-anchor-id="field-studies">Field Studies</h3>
<p>Field studies were conducted at Taikoo Hui and Landmark shopping malls in Guangzhou, and QingHuiYuan in Foshan, focusing on the availability, number, location, and affordability of emergency feminine product stations.</p>
</section>
<section id="weibo-database-analyses" class="level3">
<h3 class="anchored" data-anchor-id="weibo-database-analyses">Weibo Database Analyses</h3>
<p>We analyzed the Weibo database using keywords like “sanitary pad self-service box” to gather data on emergency feminine product stations in Guangdong province for our visualization map.</p>
</section>
<section id="surveys" class="level3">
<h3 class="anchored" data-anchor-id="surveys">Surveys</h3>
<p>A survey was developed to understand the community’s attitudes towards the availability and affordability of sanitary pads at HKUST(GZ). We used a Stratified Random Sampling approach for a diverse sample.</p>
</section>
</section>
<section id="interactive-visualization-map-design" class="level2">
<h2 class="anchored" data-anchor-id="interactive-visualization-map-design">Interactive Visualization Map Design</h2>
<iframe src="plot.html" width="90%" height="550em">
</iframe>
<p>We utilized a dataset detailing locations of Emergency Sanitary Pad Stations, transforming the data into geographical coordinates for analysis. The interactive visualization can be accessed at <a href="https://palaceparis.github.io/INFO5000Coursework/">https://palaceparis.github.io/INFO5000Coursework/</a>.</p>
<section id="data-transformation" class="level3">
<h3 class="anchored" data-anchor-id="data-transformation">Data Transformation</h3>
<p>Data preprocessing involved:</p>
<ul>
<li><strong>Handling Missing Values:</strong> Setting unreported station numbers (<code>NA</code> values) to zero.</li>
<li><strong>Normalization:</strong> Logarithmic normalization was applied to standardize data variance for better interpretation.</li>
</ul>
</section>
<section id="interactive-map-and-scatter-plot-creation" class="level3">
<h3 class="anchored" data-anchor-id="interactive-map-and-scatter-plot-creation">Interactive Map and Scatter Plot Creation</h3>
<p>We used ECharts for our visualizations, involving:</p>
<ol type="1">
<li><strong>Initialization:</strong> Separate containers were set up for the map and scatter plot.</li>
<li><strong>Data Loading and Parsing:</strong> Dataset loaded using jQuery and parsed for structured representation.</li>
<li><strong>Chart Configuration:</strong> ECharts instances were created for the map and scatter plot, using GeoJSON for mapping and log-normalized data for the scatter plot.</li>
<li><strong>Data Grouping:</strong> Data grouped by location type for comparative analysis.</li>
<li><strong>Interactivity:</strong> Interactive features were added for user engagement and data exploration.</li>
<li><strong>Customization:</strong> Styling adjustments for clarity and user interaction.</li>
</ol>
<p>This methodology enabled us to create an interactive tool for exploring the distribution of Emergency Sanitary Pad Stations.</p>
</section>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<section id="a-glimpse-of-existing-padding-stations" class="level2">
<h2 class="anchored" data-anchor-id="a-glimpse-of-existing-padding-stations">A Glimpse of Existing Padding Stations</h2>
<div class="scrolling-gallery">
<img src="assets/stations/佛山-德胜学校-互助盒.png" alt="佛山-德胜学校-互助盒" width="30%">
<img src="assets/stations/东莞-东莞中学-互助盒.jpg" alt="东莞-东莞中学-互助盒" width="30%">
<img src="assets/stations/佛山-佛山科学技术学院-互助盒.jpg" alt="佛山-佛山科学技术学院-互助盒" width="30%">
<img src="assets/stations/佛山-清晖园1.JPG" alt="佛山-清晖园1" width="30%">
<img src="assets/stations/佛山-清晖园2.JPG" alt="佛山-清晖园2" width="30%">
<img src="assets/stations/佛山-清晖园3.JPG" alt="佛山-清晖园3" width="30%">
<img src="assets/stations/佛山-清晖园4.JPG" alt="佛山-清晖园4" width="30%">
<img src="assets/stations/佛山-清晖园5.JPG" alt="佛山-清晖园5" width="30%">
<img src="assets/stations/佛山-清晖园6.JPG" alt="佛山-清晖园6" width="30%">
<img src="assets/stations/广州-中山大学（东校区）-互助盒.png" alt="广州-中山大学（东校区）-互助盒" width="30%">
<img src="assets/stations/广州-华南农业大学-互助盒.jpg" alt="广州-华南农业大学-互助盒" width="30%">
<img src="assets/stations/广州-华南师范大学（石牌校区）-互助盒.jpg" alt="广州-华南师范大学（石牌校区）-互助盒" width="30%">
<img src="assets/stations/广州-华南理工大学-互助盒.jpg" alt="广州-华南理工大学-互助盒" width="30%">
<img src="assets/stations/广州-太古汇-大黄鹅-价格.PNG" alt="广州-太古汇-大黄鹅-价格" width="30%">
<img src="assets/stations/广州-太古汇-大黄鹅1.JPG" alt="广州-太古汇-大黄鹅1" width="30%">
<img src="assets/stations/广州-太古汇-大黄鹅2.JPG" alt="广州-太古汇-大黄鹅2" width="30%">
<img src="assets/stations/广州-广东外语外贸大学（北校区）-互助盒.jpg" alt="广州-广东外语外贸大学（北校区）-互助盒" width="30%">
<img src="assets/stations/广州-广东工业大学-互助盒.jpg" alt="广州-广东工业大学-互助盒" width="30%">
<img src="assets/stations/广州-广东科学技术职业学院-互助盒.jpg" alt="广州-广东科学技术职业学院-互助盒" width="30%">
<img src="assets/stations/广州-广东药科大学-互助盒.jpg" alt="广州-广东药科大学-互助盒" width="30%">
<img src="assets/stations/广州-广东财经大学-互助盒.jpg" alt="广州-广东财经大学-互助盒" width="30%">
<img src="assets/stations/广州-广东金融学院-卫生巾互助盒.jpg" alt="广州-广东金融学院-卫生巾互助盒" width="30%">
<img src="assets/stations/广州-暨南大学石牌楼校区-互助盒.png" alt="广州-暨南大学石牌楼校区-互助盒" width="30%">
<img src="assets/stations/广州-置地广场-女生盒子.jpeg" alt="广州-置地广场-女生盒子" width="30%">
<img src="assets/stations/深圳-所有商场-飞么.webp" alt="深圳-所有商场-飞么" width="30%">
``

</div>
</section>
<section id="survey-result-interpretation" class="level2">
<h2 class="anchored" data-anchor-id="survey-result-interpretation">Survey Result Interpretation</h2>
<p>Our survey received 62 responses with a diverse distribution across academic levels and staff. The majority of respondents prefer buying sanitary pads online (85%), with supermarkets and convenience stores also being popular (56%). This indicates a potential early adopter customer base for offline purchases.</p>
<p>Regarding budget preferences, 40% spend 1-2 RMB per pad, and 39% spend 2-3 RMB. Only 10% spend below 1 RMB, suggesting period poverty is not a significant issue on campus.</p>
<figure style="text-align: center;" class="figure">
<img src="assets/budget.png" alt="Budget per sanitary pad piece at HKUST(Guangzhou)" width="40%" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
<figcaption style="margin-top: 10px;" class="figure-caption">
Budget per sanitary pad piece at HKUST(Guangzhou).
</figcaption>
</figure>
<p>Brand loyalty is notable, with over 83% considering the brand important. Top brands include Kao Laurier, Kotex, P&amp;G Whisper, and Sofy. Quality is the most important factor for 84% of respondents, suggesting a need for high-quality products in our initiative.</p>
<figure style="text-align: center;" class="figure">
<img src="assets/brand.png" alt="Sanitary pad brand preference at HKUST(Guangzhou)" width="40%" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
<figcaption style="margin-top: 10px;" class="figure-caption">
Sanitary pad brand preference at HKUST(Guangzhou).
</figcaption>
</figure>
<p>Only 6% prioritize the convenience of purchase location, indicating limited necessity for multiple campus stations. Interest in additional products like cleaning items, disposable underwear, and snacks was also noted.</p>
</section>
<section id="comparative-study---international-perspective" class="level2">
<h2 class="anchored" data-anchor-id="comparative-study---international-perspective">Comparative Study - International Perspective</h2>
<p>Comparatively, in 2021, proposals were made to the Chinese government regarding menstrual health policies, but they were not sponsored. Internationally, Scotland offers free menstrual supplies, India abolished tax on sanitary products, and Korea initiated free distribution in public areas.</p>
</section>
<section id="free-menstrual-supplies-in-various-countries" class="level2">
<h2 class="anchored" data-anchor-id="free-menstrual-supplies-in-various-countries">Free Menstrual Supplies in Various Countries</h2>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 10%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th>Free in All Public Areas</th>
<th>No Tax</th>
<th>Free in Specific Regions or Public Areas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Scotland (community centers, youth clubs, pharmacies, etc.)</td>
<td>India</td>
<td>New Zealand (schools)</td>
</tr>
<tr class="even">
<td></td>
<td>Kenya</td>
<td>Australia (schools in New South Wales and Victoria)</td>
</tr>
<tr class="odd">
<td></td>
<td>South Africa</td>
<td>USA (schools in Illinois, Washington, New York, New Hampshire, Virginia)</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>France (schools in Île-de-France)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Kenya (schools)</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>South Africa (schools)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Botswana (schools)</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>Korea (public areas, e.g., library in Central Seoul)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Uganda (schools)</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>Zambia (rural schools)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Canada (schools and federal agencies in British Columbia, Ontario, Nova Scotia, Prince Edward Island)</td>
</tr>
</tbody>
</table>
<p><em>Table: Summary of Countries and Regions Providing Free Menstrual Supplies.</em></p>
</section>
<section id="limitations" class="level2">
<h2 class="anchored" data-anchor-id="limitations">Limitations</h2>
<section id="survey-design" class="level3">
<h3 class="anchored" data-anchor-id="survey-design">Survey Design</h3>
<p>Our survey design has limitations that might introduce bias. The framing of questions can lead to skewed results, and the absence of certain options may influence respondents’ choices. Additionally, acquiescence bias is a concern, particularly in questions about personal habits and preferences.</p>
</section>
<section id="vending-machine-iot-system" class="level3">
<h3 class="anchored" data-anchor-id="vending-machine-iot-system">Vending Machine IoT System</h3>
<p>We have consulted PhD professionals in IoT and an expert. The interaction flowchart of the vending machine IoT System is as shown below.</p>
<figure style="text-align: center;" class="figure">
<img src="assets/iot.png" width="40%" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
<figcaption style="margin-top: 10px;" class="figure-caption">
Interaction flowchart between Vending Machine and IoT System.
</figcaption>
</figure>
<p>The process can be concluded as follows: After each sale of goods, vending machines report the type, quantity, time, and region of the sold goods to the Internet of Things platform. The Internet of Things platform provides rule engine capabilities, supporting the forwarding of data reported to other cloud services such as Huawei Cloud. It can achieve the forwarding of massive data to MapReduce Service (MRS) through Data Ingestion Service (DIS), After processing the data, it is read and presented as a visual report by the Data Lake Visualization (DLV), achieving one-stop data collection, processing, and analysis. # Conclusion</p>
<p>Our project combined teamwork, innovative thinking, and effective resource utilization to address the availability of sanitary pads. Key accomplishments include:</p>
<ul>
<li>Development of an IoT vending machine prototype for emergency feminine product stations.</li>
<li>Creation of a data visualization website to analyze sanitary pad stations in Guangdong.</li>
<li>Establishment of a rating system and execution of a survey to facilitate campus implementation.</li>
<li>Proposal of policy recommendations aimed at tackling menstrual stigma and poverty.</li>
</ul>
<p>These initiatives are pivotal in promoting an inclusive and progressive environment in educational institutions, directly benefiting students and staff. Furthermore, they contribute to broader societal advancements in menstrual health and gender equality.</p>
</section>
</section>
</section>
<section id="future-work" class="level1">
<h1>Future Work</h1>
<section id="sustainable-vending-machine" class="level2">
<h2 class="anchored" data-anchor-id="sustainable-vending-machine">Sustainable Vending Machine</h2>
<p>We are developing a solar-powered off-grid vending machine. The main components include solar panels, charge controllers, batteries, and inverters. For a small 15W vending machine, we need a 300W solar power system and 160 Ah batteries.</p>
<div style="text-align: center;">
    <figure style="display: inline-block; margin-right: 20px;" class="figure">
        <img src="assets/off_grid.jpg" alt="The schematic diagram of the solar off-grid power generation system" width="300px" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
        <figcaption style="margin-top: 10px;" class="figure-caption">The schematic diagram of the solar off-grid power generation system.</figcaption>
    </figure>

    <figure style="display: inline-block;" class="figure">
        <img src="assets/solar_panel.jpg" alt="The structure of the solar panel" width="300px" style="border: none; box-shadow: none; margin-bottom: 10px;" class="figure-img">
        <figcaption style="margin-top: 10px;" class="figure-caption">The structure of the solar panel.</figcaption>
    </figure>
</div>
</section>
<section id="leveraging-online-suppliers-lowering-costs" class="level2">
<h2 class="anchored" data-anchor-id="leveraging-online-suppliers-lowering-costs">Leveraging Online Suppliers &amp; Lowering Costs</h2>
<p>We aim to partner with online platforms for discounts and special offers, and implement programs to provide free or subsidized sanitary products to students in need.</p>
</section>
<section id="sustainable-design-environmental-awareness" class="level2">
<h2 class="anchored" data-anchor-id="sustainable-design-environmental-awareness">Sustainable Design &amp; Environmental Awareness</h2>
<p>Our focus includes promoting sustainable menstrual products and raising awareness about environmental impacts. We’re exploring collaborations to potentially make sanitary napkins recyclable and considering the addition of solar panels to vending machines.</p>
</section>
<section id="health-and-hygiene-education" class="level2">
<h2 class="anchored" data-anchor-id="health-and-hygiene-education">Health and Hygiene Education</h2>
<p>We plan to organize workshops on menstrual health and hygiene, including sustainable practices and proper disposal methods, to raise awareness about women’s rights.</p>
</section>
<section id="managing-conflicts-of-interest" class="level2">
<h2 class="anchored" data-anchor-id="managing-conflicts-of-interest">Managing Conflicts of Interest</h2>
<p>Future steps include: 1. <strong>Transparent Procurement Processes:</strong> Ensuring transparency in sanitary product procurement. 2. <strong>Diverse Committee Involvement:</strong> Forming a diverse committee to oversee sanitary initiatives and review potential conflicts of interest. 3. <strong>Regular Audits and Reviews:</strong> Conducting audits to ensure the effective and transparent use of funds.</p>
</section>
<section id="upholding-university-image" class="level2">
<h2 class="anchored" data-anchor-id="upholding-university-image">Upholding University Image</h2>
<p>We aim to: 1. <strong>Positive Communication Strategy:</strong> Highlighting the university’s commitment to sustainability and gender inclusivity. 2. <strong>Community Engagement:</strong> Involving the university community in decision-making processes. 3. <strong>Collaboration with External Organizations:</strong> Partnering with organizations focused on menstrual health and gender equality. 4. <strong>Regular Updates and Reporting:</strong> Providing updates on initiatives and improvements.</p>
</section>
<section id="legislation-recommendations" class="level2">
<h2 class="anchored" data-anchor-id="legislation-recommendations">Legislation Recommendations</h2>
<p>We plan to expand our project to schools and promote policies for including sanitary napkins in medical insurance and reducing taxes on feminine hygiene products. We will seek advocacy from members of the National People’s Congress and collaborate with others to mandate the delivery of sanitary napkins in public places.</p>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>[1] “卫生巾互助盒在华农‘出圈’！发起人是一名大二女生……_腾讯新闻.” Accessed: Nov.&nbsp;27, 2023. [Online]. Available: https://new.qq.com/rain/a/20210315A0E2YJ00#tdsub</p>
<p>[2] 雁阵君, “予她同行｜卫生巾互助盒试点计划来啦！,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MjM5Mjc2MzU5NQ==&amp;mid=2653275915&amp;idx=1&amp;sn=bd5728a5a9605387a4180041895a784d&amp;chksm=bd703caf8a07b5b9a6881b19fbdfd039ebce8fd731c61bfff040d5c8881e2c8b9ad17793d6f6#rd</p>
<p>[3] 百步梯新媒体部, “聚焦 | 卫生巾互助盒：代表月亮守护你,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MjM5NDA4NzM4MA==&amp;mid=2650670461&amp;idx=2&amp;sn=09899ad595102025adc55d305a2752fb&amp;chksm=be878dc689f004d0f7c4fa7125678199649920964807ad611b7d11cd5ea9de4279672ca26759#rd</p>
<p>[4] “广东高校掀起‘卫生巾互助盒’浪潮，反对月经羞耻！,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MzIxMzA5MTI4NQ==&amp;mid=2653461150&amp;idx=3&amp;sn=538a6baab1cfc4cbb29fc7ed14f026e4&amp;chksm=8c602c24bb17a532ec3912eb7e9a4aee06f9dc53ad854d43270bb2322e835b9e49533c2b7871#rd</p>
<p>[5] 不止休耻girls, “【华农招新季】卫生巾互助这件事，我们是认真在做！,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MzI5NDkxNTE0OA==&amp;mid=2247484981&amp;idx=1&amp;sn=18c970bce3a5cd1a85a0e53a30baa686&amp;chksm=ec5adb16db2d5200e9bed2cc90cc6ed2586edd9124d6ec7dfebdf9e40e045a33140bbf6e2f7c#rd</p>
<p>[6] “卫生巾互助盒的故事 | #No Period Shame#,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MzU1NjU2NzE2OQ==&amp;mid=2247486177&amp;idx=1&amp;sn=f3e5693c8818548a796ff60de4969022&amp;chksm=fbc2550fccb5dc19adb92e414653d9b8962a1d885d0ff41863507d4d2131110fae1dd83fb743#rd</p>
<p>[7] 钟雯, “高校卫生巾互助盒行动｜谁在行动？,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=Mzg2MDAzNjExOA==&amp;mid=2247483689&amp;idx=1&amp;sn=e49a3b468fd09b4dd8ddc2f970a18500&amp;chksm=ce2dcc50f95a454667de92388b04b2b1522f55dfca60b71312758e3db5c959c5266e800ffe57#rd</p>
<p>[8] “予她同行|让她不再束手无策,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MjM5ODk5MTcyNA==&amp;mid=2649176032&amp;idx=1&amp;sn=27dcd5791c6373f7209d98d81ab444d8&amp;chksm=bed1d5e389a65cf5f438eb2e880f43f4d5fb3c072795ffb804e358e1b0df04cc930813d6f786#rd</p>
<p>[9] 积极建设广科的, “卫生巾互助盒？二手交易平台？这些提案有点东西,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=MzU5ODEzODg2NQ==&amp;mid=2247496665&amp;idx=1&amp;sn=b000fbc724c55ff7cb577f97b6fe50b7&amp;chksm=fe4a7947c93df051bae6389708627b4f31ff56b301f9f42a20ba9bf6924fdd6e86e189601866#rd</p>
<p>[10] MCU, “卫生巾互助盒在广药的这一年,” Weixin Official Accounts Platform. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=Mzg3MjU0NDg2Ng==&amp;mid=2247484086&amp;idx=1&amp;sn=c0ff4cd2258b1e998ce04755b90dc981&amp;chksm=ceecedbbf99b64ade46bc0519b0a7be305d64eddbee52270d1be8e5544a798832a1eaab89ef2#rd</p>
<p>[11] “Weixin Official Accounts Platform.” Accessed: Nov.&nbsp;27, 2023. [Online]. Available: https://mp.weixin.qq.com/s/oS10sAuQr9KNenbhuCd89A#tdsub</p>
<p>[12] “飞么FAIMES官网__精致女人用飞么.” Accessed: Nov.&nbsp;27, 2023. [Online]. Available: https://faimes.net/</p>
<p>[13] 月事骄傲, “联合发声 | 关于‘月经’，我想为妇女儿童发展纲要建言,” 微信公众平台. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://mp.weixin.qq.com/s?__biz=Mzk0NjEyNzY0OA==&amp;mid=2247483683&amp;idx=1&amp;sn=2b264f2c1e1b03dcd8ad5fc8197c12c8&amp;chksm=c30b976cf47c1e7aa44f5ac55db5f5a9c4bcdd9578745459ccb6c1f8ab06553a3b2b56dc4be8#rd</p>
<p>[14] “20 Places Around the World Where Governments Provide Free Period Products,” Global Citizen. Accessed: Nov.&nbsp;27, 2023. [Online]. Available: https://www.globalcitizen.org/en/content/free-period-products-countries-cities-worldwide/</p>
<p>[15] “财政部答复代表提出的‘减免卫生巾增值税’’将卫生巾费用纳入医社保’等问题_婴童品牌网.” Accessed: Nov.&nbsp;27, 2023. [Online]. Available: http://www.ytpp.com.cn/data/2021-08-31/95791.html#tdsub</p>
<p>[16] 马娟, “国务院办公厅关于印发国家贫困地区儿童发展规划（2014—2020年）的通知_妇女儿童_中国政府网.” Accessed: Nov.&nbsp;27, 2023. [Online]. Available: https://www.gov.cn/zhengce/content/2015-01/15/content_9398.htm#tdsub</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>